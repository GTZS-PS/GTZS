<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GTZS Private Server - Mobile Optimized & Clean</title>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/tsparticles@2.12.0/tsparticles.bundle.min.js"></script>

<style>
/* ===== KONTEN UTAMA - DIBATASI UNTUK RUMUS 9:16 (MOBILE) ===== */
#main-content {
    min-height: 100vh;
    /* Menghapus background-image agar lebih mirip gambar asli */
    background: radial-gradient(circle at center, rgba(3, 0, 15, 1) 0%, rgba(0, 0, 0, 1) 100%) !important;
}
#main-container {
    max-width: 450px; 
    height: auto; 
    padding: 1rem; 
    width: 95%; 
    border-radius: 1rem;
    background: rgba(0, 0, 0, 0.4); /* Background lebih gelap */
    border: 2px solid #9d00ff; /* Border ungu sebagai bingkai */
    box-shadow: 0 0 30px #9d00ff, 0 0 60px #ff00d4; /* Neon shadow luar */
}

/* Mengatur ulang posisi musik dan jam agar rapi di sudut mobile */
#music-toggle-container {
    top: 0.5rem;
    left: 0.5rem;
    position: fixed; 
    z-index: 50;
    /* Gaya Play Music sesuai gambar */
    padding: 0.5rem 1rem;
    background: rgba(0, 0, 0, 0.6);
    border: 1px solid #00e6ff;
    border-radius: 9999px; /* Pill shape */
    box-shadow: 0 0 10px #00e6ff;
}
#music-toggle-btn img { display: none; } /* Sembunyikan gambar musik */
#music-status { font-size: 1rem !important; }

#live-clock {
    display: none; /* Sembunyikan jam untuk tampilan ini */
}

/* Mengatur ulang Header untuk tampilan vertikal di mobile */
#main-header {
    flex-direction: row; 
    align-items: center;
    justify-content: space-between; /* Untuk menempatkan 'About' di kanan */
    gap: 0;
    margin-bottom: 0;
    padding: 0 0 1rem 0; /* Padding atas bawah saja */
}
#main-header > div:first-child { display: none; } /* Sembunyikan Logo & Tagline dari Header (karena di tengah) */
#main-header h1 {
    font-size: 1.5rem; /* Lebih kecil */
    color: #00e6ff;
    text-shadow: 0 0 5px #00e6ff, 0 0 10px #00e6ff, 0 0 20px #00e6ff;
    letter-spacing: 2px;
}
#main-header nav {
    margin-top: 0;
}
#about-btn {
    border: none !important;
    background: none !important;
    padding: 0;
    color: #fff;
    font-weight: 400;
    text-transform: capitalize;
}


/* Mengatur agar Server Status Container di tengah */
#server-status-container-wrapper {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 40vh; /* Ruang tengah yang besar */
    text-align: center;
    padding: 2rem 0;
}
#loading-spinner {
    width: 100px;
    height: 100px;
    border-radius: 50%;
    border: 5px solid rgba(255, 0, 212, 0.2); /* Ring luar ungu transparan */
    border-top-color: #00e6ff; /* Neon biru untuk efek loading */
    border-bottom-color: #ff00d4; /* Neon pink */
    animation: spin 1s linear infinite;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 1.5rem;
    box-shadow: 0 0 15px #00e6ff, 0 0 30px #ff00d4;
}
@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}
#loading-icon {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background-color: #1a0033; /* Warna gelap di tengah */
    box-shadow: inset 0 0 10px #9d00ff, 0 0 10px #ff00d4;
}

#loading-text {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.5rem;
    font-weight: 700;
    color: #ffffff;
    text-shadow: 0 0 5px #ffffff, 0 0 10px #00e6ff;
    margin-bottom: 0.5rem;
}

#loading-tagline {
    font-family: 'Rajdhani', sans-serif;
    font-size: 1rem;
    color: #ff8c00;
    text-shadow: 0 0 3px #ff8c00;
}

/* Mengubah Menu Grid menjadi 3 kolom di tengah saat loading */
#menu-grid {
    grid-template-columns: repeat(3, 1fr); 
    gap: 10px; 
    padding: 1rem 0; /* Padding atas bawah agar rapi */
}
.loading-menu-item {
    padding: 0.5rem !important;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    background: rgba(0, 0, 0, 0.7) !important;
    border: 1px solid rgba(0, 230, 255, 0.1) !important;
    border-radius: 0.5rem !important;
    min-height: 100px; /* Tinggi agar seragam */
    transition: all 0.3s ease;
}
.loading-menu-item:hover {
    box-shadow: 0 0 15px #00e6ff !important;
    transform: scale(1.05) !important;
}
.loading-menu-item img {
    width: 30px !important;
    height: 30px !important;
    margin-bottom: 0.5rem;
    border: none !important;
}
.loading-menu-item h3 {
    font-size: 0.8rem;
    color: #00e6ff;
    text-shadow: 0 0 2px #00e6ff;
}
.loading-menu-item p {
    font-size: 0.6rem;
    display: block; /* Selalu tampilkan deskripsi */
    color: #ffffff;
}

/* Status Bar di bagian bawah (Hanya muncul setelah loading) */
#status-bar-bottom {
    display: none; /* Sembunyikan di awal */
    flex-direction: row;
    align-items: center;
    justify-content: space-around;
    padding: 1rem 0;
    border-top: 1px solid #9d00ff33;
}
#status-bar-bottom > div {
    font-family: 'Rajdhani', sans-serif;
    font-size: 0.9rem;
    font-weight: 600;
}

/* Footer & Copyright */
footer {
    border-top: 1px solid #9d00ff33;
    padding: 0.5rem 0;
    font-size: 0.6rem;
    color: #9d00ff;
    text-shadow: 0 0 5px #9d00ff;
}
footer div:last-child {
    color: #ff00d4;
    text-shadow: 0 0 5px #ff00d4;
}

/* Media Query untuk Layar Lebih Besar (Desktop/Tablet) */
@media (min-width: 640px) {
    #main-container {
        border-radius: 2rem; 
        min-height: 70vh; 
        height: auto;
    }
    #main-header h1 {
        font-size: 2rem; 
    }
    #server-status-container-wrapper {
        min-height: 50vh;
    }
    #loading-text {
        font-size: 2rem;
    }
    #loading-tagline {
        font-size: 1.125rem;
    }
    #menu-grid {
        gap: 20px; 
        padding: 2rem 1rem;
    }
    .loading-menu-item {
        padding: 1rem !important;
    }
    .loading-menu-item h3 {
        font-size: 1rem;
    }
    .loading-menu-item p {
        font-size: 0.75rem;
    }
}


/* Styling tambahan dari kode lama */
#about-overlay .whitespace-pre-wrap, #rules-overlay .whitespace-pre-wrap, #faq-overlay .whitespace-pre-wrap{font-family:'Rajdhani',sans-serif;letter-spacing:0.5px;line-height:1.6;color:#fff;}
#about-overlay, #rules-overlay, #faq-overlay{transition:opacity 0.5s ease-in-out;}
.hidden-fade {opacity: 0 !important; pointer-events: none;}
.status-indicator {box-shadow: 0 0 5px currentColor, 0 0 10px currentColor, 0 0 15px currentColor;}
.status-online {background-color: #00ff90; color: #00ff90;}
.status-offline {background-color: #ff00d4; color: #ff00d4;}
.status-indicator-big { text-shadow: 0 0 5px currentColor, 0 0 10px currentColor;}
#toast{position:fixed;bottom:30px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,0.7);color:#00e6ff;padding:10px 20px;border-radius:12px;border:1px solid #00e6ff;font-family:'Rajdhani',sans-serif;opacity:0;pointer-events:none;transition:opacity 0.5s ease;z-index:60;}
/* Style item menu lainnya */
a.menu-item:not(.loading-menu-item){transition:all 0.3s ease;}
a.menu-item:not(.loading-menu-item):hover{box-shadow:0 0 20px #00e6ff,0 0 40px #ff00d4,0 0 60px #9d00ff;transform:scale(1.05);}
#grid-bg{position:fixed;inset:0;z-index:0;background-image:linear-gradient(rgba(0,255,255,0.05) 1px, transparent 1px),linear-gradient(90deg, rgba(255,0,212,0.05) 1px, transparent 1px);background-size:40px 40px;pointer-events:none;}
/* Neon trail/particles tetap ada */
#main-particles,#tsparticles-gtzps,#neon-trail{position:fixed;inset:0;z-index:0;pointer-events:none;}
</style>
</head>
<body class="bg-black">

<div id="grid-bg"></div>
<canvas id="neon-trail"></canvas>
<div id="tsparticles-gtzps"></div>

<audio id="bg-music" loop>
<source src="https://files.catbox.moe/e3zea4.mp3" type="audio/mpeg">
</audio>

<div id="music-toggle-container" class="absolute z-30">
<button id="music-toggle-btn" class="flex items-center gap-2 transition-transform duration-300">
<span id="music-status" class="text-sm font-semibold tracking-wider text-white">Play Music</span>
</button>
</div>

<div id="toast"></div>

<div id="about-overlay" class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 hidden-fade"> 
<div class="relative max-w-sm w-[90%] p-5 bg-black/70 border border-[#00e6ff] rounded-xl shadow-2xl text-xs">
<button id="about-close" class="absolute top-2 right-2 text-[#ff00d4] font-bold text-lg">‚úñ</button>
<div class="whitespace-pre-wrap">
<div class="line line1 text-sm">‚öúÔ∏è‚ú® CARA JOIN SERVER GTZS ‚ú®‚öúÔ∏è</div>
<div class="line line2">üåê 1Ô∏è‚É£ Buka menu Server</div>
<div class="line line3">üè∑Ô∏è 2Ô∏è‚É£ Masukkan nama server: GTZS</div>
<div class="line line4">üßæ 3Ô∏è‚É£ Tekan Register / Daftar</div>
<div class="line line5">üë§ 4Ô∏è‚É£ Buat GrowID & Password</div>
<div class="line line6">üìß 5Ô∏è‚É£ Masukkan Email aktif</div>
<div class="line line1">üéÆ 6Ô∏è‚É£ Selamat! Server siap dimainkan üéâ</div>
</div>
</div>
</div>

<div id="rules-overlay" class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 hidden-fade"> 
    <div class="relative max-w-sm sm:max-w-md w-[90%] p-5 bg-black/70 border border-[#ff00d4] rounded-xl shadow-2xl text-xs overflow-y-auto max-h-[90vh]">
        <button id="rules-close" class="absolute top-2 right-2 text-[#00e6ff] font-bold text-lg">‚úñ</button>
        <h3 class="line line2 text-lg text-center mb-3" style="font-family: 'Orbitron', sans-serif;">üîí SERVER RULES & POLICY</h3>
        <div class="whitespace-pre-wrap text-white text-sm" id="rules-content"></div>
    </div>
</div>

<div id="faq-overlay" class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 hidden-fade"> 
    <div class="relative max-w-sm sm:max-w-md w-[90%] p-5 bg-black/70 border border-[#00ff90] rounded-xl shadow-2xl text-xs overflow-y-auto max-h-[90vh]">
        <button id="faq-close" class="absolute top-2 right-2 text-[#ff8c00] font-bold text-lg">‚úñ</button>
        <h3 class="line line4 text-lg text-center mb-3" style="font-family: 'Orbitron', sans-serif;">‚ùì FAQ (TANYA JAWAB GTZS)</h3>
        <div class="whitespace-pre-wrap text-white text-sm" id="faq-content"></div>
    </div>
</div>
<main id="main-content" class="main-content-anim relative z-20 flex items-center justify-center p-2">
<div id="main-particles" class="absolute inset-0 z-0"></div>

<div id="main-container" class="relative z-10 w-full backdrop-blur-md">
<header id="main-header" class="flex items-center justify-between p-2 sm:p-4">
    <h1 class="font-extrabold" style="font-family: 'Orbitron', sans-serif;">GTZS PRIVATE SERVER</h1>
    <nav class="text-sm flex items-center gap-3 text-white">
        <button id="about-btn">About</button>
    </nav>
</header>

<div id="server-status-container-wrapper">
    <div id="loading-area" class="flex flex-col items-center justify-center">
        <div id="loading-spinner">
            <div id="loading-icon"></div>
        </div>
        <div id="loading-text">Loading Server...</div>
        <div id="loading-tagline">Memuat aset neon & koneksi virtual ‚Äî sabar sebentar...</div>
    </div>
    
    <div id="status-display-full" style="display:none;">
        <h2 id="server-tagline" class="text-sm sm:text-base font-semibold tracking-wider uppercase mb-4 text-[#ff00d4] text-shadow: 0 0 5px #ff00d4;" style="font-family: 'Rajdhani', sans-serif;">
            Welcome to GTZS Private Server üéÆ
        </h2>
        <div id="full-menu-container" class="p-4 grid gap-3"></div>
    </div>
</div>


<section id="menu-grid" class="p-4 grid gap-3">
    </section>

<div id="status-bar-bottom" class="flex font-semibold text-xs tracking-widest text-white">
    <div id="player-count">PLAYERS: <span class="text-[#00ff90] text-sm font-bold">LOADING...</span></div>
    <div id="server-status">STATUS: <span class="status-indicator rounded-full w-2 h-2 inline-block mr-1"></span> <span class="text-[#00ff90] font-bold">LOADING...</span></div>
</div>


<footer class="mt-2 text-xs opacity-90 flex items-center justify-between p-2">
<div>¬© <span id="current-year"></span> GTZS PRIVATE SERVER</div>
<div>GTZS STAFF @Rnzgt</div>
</footer>
</div>
</main>

<script>
// Variabel untuk status loading
let isServerLoaded = false;
const loadingDuration = 3000; // 3 detik loading

// ===== Music Toggle =====
const music=document.getElementById("bg-music");
let isMusicPlaying=false;
const musicStatusElement=document.getElementById("music-status");
document.getElementById("music-toggle-btn").onclick=function(){
if(isMusicPlaying){music.pause();musicStatusElement.textContent="Play Music";musicStatusElement.style.color="#fff";}
else{music.play();musicStatusElement.textContent="Stop Music";musicStatusElement.style.color="#ff00d4";}
isMusicPlaying=!isMusicPlaying;
};

// ===== Menu Items & Toast (MENU LENGKAP) =====
const menuData=[
// Menu 1: Server Rules & Policy 
{ title:"Server Rules & Policy", desc:"Peraturan Server, Sanksi & Kebijakan Anti-Cheat", href:"#", icon:"https://files.catbox.moe/hf3p8d.jpg", isRules:true }, 
// Menu 2: Report Bug & Error (TERHUBUNG KE ADMIN 1)
{ title:"Report Bug & Error", desc:"Lapor masalah teknis & server error di sini", href:"https://wa.me/6282229019195", icon:"https://files.catbox.moe/4pga9m.jpg" },
// Menu 3: FAQ (Tanya Jawab) (OVERLAY FAQ)
{ title:"FAQ (Tanya Jawab)", desc:"Lihat Pertanyaan Umum Seputar Server GTZS", href:"#", icon:"https://files.catbox.moe/7bjjv9.jpg", isFAQ:true },
// Menu lama yang sudah ada (tetap):
{ title:"WhatsApp Community", desc:"Grup komunitas, diskusi & pengumuman", href:"https://chat.whatsapp.com/G8tlQPTaoe35LLQmeazR34?mode=wwt", icon:"https://files.catbox.moe/t46g6s.jpg", isMain: true, imgName: "whatsapp_icon.png" }, // isMain untuk 3 kolom awal
{ title:"Virtual Host", desc:"Panel host virtual & resources", href:"https://www.mediafire.com/file/y8iwyfytisu9fah/GTZS+BETA.txt/file", icon:"https://files.catbox.moe/rcxspu.tmp", isMain: true, imgName: "host_icon.png" }, // isMain untuk 3 kolom awal
{ title:"Power Tunnel", desc:"Jalur akses & optimasi", href:"https://eu.panel.growsoft.cc/android/2784", isCopy:true, icon:"https://files.catbox.moe/82j6ay.jpg", isMain: true, imgName: "tunnel_icon.png" }, // isMain untuk 3 kolom awal
{ title:"Admin 1", desc:"Kontak admin utama", href:"https://wa.me/6282229019195", icon:"https://files.catbox.moe/6k8owo.jpg" }, 
{ title:"Admin 2", desc:"Kontak admin cadangan", href:"https://wa.me/6285166991453", icon:"https://files.catbox.moe/6k8owo.jpg" }
];

const menuGrid=document.getElementById("menu-grid");
const fullMenuContainer = document.getElementById("full-menu-container");
const toast=document.getElementById("toast");
const loadingArea = document.getElementById("loading-area");
const statusBarBottom = document.getElementById("status-bar-bottom");
const statusDisplayFull = document.getElementById("status-display-full");
const serverTagline = document.getElementById('server-tagline');


// ===== KONTEN PERATURAN SERVER (RULES OVERLAY) - Dibiarkan sama =====
const serverRulesContent = `
=========================================
      1. KETENTUAN DASAR & ACCOUNT
=========================================
1.1. Kepemilikan Akun: Tanggung jawab penuh atas keamanan GrowID dan password ada pada pemain. Staff tidak bertanggung jawab atas kehilangan akun akibat kelalaian (phishing, sharing).

1.2. Email Terdaftar: Gunakan email aktif. Kehilangan akses atau kesalahan email adalah risiko pemain.

1.3. Larangan Trading Real World Items (RWT): Dilarang keras melakukan transaksi item di server ini menggunakan uang asli (Rupiah/mata uang lain).
Sanksi: BAN PERMANEN tanpa pengecualian.

=========================================
      2. CHEATING & EXPLOITASI BUG
=========================================
2.1. Program Ilegal (Cheating): Penggunaan program pihak ketiga (seperti auto-clicker/bot yang dilarang, speed hack, fly hack, dll.) DILARANG KERAS.
Sanksi: BAN PERMANEN.

2.2. Exploitasi Bug: Menemukan bug (kesalahan sistem)? Laporkan segera ke Staff/Report Bug Menu. Mencoba atau menyebarkan cara exploitasi bug untuk keuntungan pribadi akan dikenakan sanksi.
Sanksi: BAN SEMENTARA hingga PERMANEN (tergantung tingkat kerugian server).

=========================================
      3. ETIKA KOMUNITAS (CHAT)
=========================================
3.1. Spam & Flood: Dilarang melakukan spam chat, mengirim pesan berulang-ulang, atau promosi server lain.
Sanksi: MUTE/BAN SEMENTARA.

3.2. Ucapan Kotor/SARA: Dilarang menggunakan bahasa kotor, diskriminasi (SARA), atau tindakan yang menyerang privasi/ras/agama pemain lain.
Sanksi: MUTE/BAN SEMENTARA hingga PERMANEN.

=========================================
    4. KEBIJAKAN DONASI (JIKA ADA)
=========================================
4.1. Refund: Semua donasi yang masuk adalah final dan tidak dapat di-refund/ditarik kembali dengan alasan apapun. Donasi murni untuk pengembangan server.

4.2. Ban Akun: Jika akun yang berdonasi terkena BAN karena melanggar aturan (Cheating/RWT), donasi yang telah diberikan TIDAK dapat dikembalikan.
`;
document.getElementById('rules-content').textContent = serverRulesContent;


// ===== KONTEN FAQ (FAQ OVERLAY) - Dibiarkan sama =====
const faqContent = `
<div class="faq-q">Q: Apa itu GTZS Private Server?</div>
<div class="faq-a">A: GTZS adalah server Growtopia Private (PS) yang menawarkan fitur dan pengalaman bermain unik dengan rate farming yang ditingkatkan, item eksklusif, dan event komunitas reguler.</div>

<div class="faq-q">Q: Apakah server ini gratis untuk dimainkan?</div>
<div class="faq-a">A: Ya, GTZS 100% gratis untuk dimainkan. Kami mendukung pengembangan server melalui donasi opsional (lihat Server Rules, bagian 4).</div>

<div class="faq-q">Q: Bagaimana cara terhubung ke server ini?</div>
<div class="faq-a">A: Buka klien Growtopia, pilih menu Server, dan masukkan nama server **GTZS**. Pastikan Anda sudah mendaftar GrowID dan memasukkan email aktif.</div>

<div class="faq-q">Q: Item-item saya hilang setelah update/restart server. Kenapa?</div>
<div class="faq-a">A: Kehilangan item sangat jarang terjadi. Pastikan Anda tidak melakukan *RWT* atau *sharing* akun. Jika yakin ini adalah *bug*, segera laporkan melalui menu **Report Bug & Error**.</div>

<div class="faq-q">Q: Mengapa saya di-BAN?</div>
<div class="faq-a">A: Cek kembali **Server Rules & Policy**. BAN biasanya dikenakan karena *cheating*, *exploiting*, atau *RWT*. Jika Anda merasa di-BAN tanpa alasan, hubungi admin melalui WhatsApp untuk banding.</div>

<div class="faq-q">Q: Di mana saya bisa mendapatkan informasi update terbaru?</div>
<div class="faq-a">A: Semua pengumuman penting, event, dan update server diumumkan secara resmi di **WhatsApp Community** dan in-game message.</div>
`;
document.getElementById('faq-content').innerHTML = faqContent; 


function renderMenu(data, targetElement, isFullMenu = false) {
    targetElement.innerHTML = data.map(item => {
        // Hanya render isMain: true untuk menu loading
        if (!isFullMenu && !item.isMain) return ''; 
        // Hanya render !isMain untuk menu penuh (karena isMain sudah ada di loading)
        if (isFullMenu && item.isMain) return ''; 

        let contentHTML = `
            <div class='flex flex-col items-center gap-2'>
                <img src='${item.icon}' class='w-10 h-10 rounded-lg object-cover'>
                <h3 class='text-sm font-semibold text-white'>${item.title.split(' ')[0]}</h3>
                <p class='text-xs text-[#9fdcff]'>${item.desc}</p>
            </div>
        `;
        let classes = isFullMenu ? 'menu-item block p-4 sm:p-5 rounded-xl border border-[#00e6ff]/15 bg-black/30 backdrop-blur relative' : 'loading-menu-item relative cursor-pointer';

        if(item.isRules){
            return `<a id="rules-btn" class='${classes}'>${contentHTML}</a>`;
        } 
        else if(item.isFAQ){
            return `<a id="faq-btn" class='${classes}'>${contentHTML}</a>`;
        } 
        else if(item.isCopy){
            return `<a onclick="navigator.clipboard.writeText('${item.href}'); showToast('${isFullMenu ? 'Link disalin!' : 'Link Power Tunnel disalin!' }');" class='${classes}'>${contentHTML}</a>`;
        } 
        else{
            return `<a href='${item.href}' target='_blank' class='${classes}'>${contentHTML}</a>`;
        }
    }).join('');

    // Re-attach event listeners for dynamic buttons
    attachOverlayListeners();
}

function attachOverlayListeners() {
    const rulesBtn = document.getElementById('rules-btn');
    const faqBtn = document.getElementById('faq-btn');

    if (rulesBtn) {
        rulesBtn.onclick = (e) => {
            e.preventDefault(); 
            document.getElementById('rules-overlay').classList.remove('hidden-fade');
        };
    }
    if (faqBtn) {
        faqBtn.onclick = (e) => {
            e.preventDefault();
            document.getElementById('faq-overlay').classList.remove('hidden-fade');
        };
    }
}


// ===== FUNGSI UTILITY (Toast, Clock, Status) =====
function showToast(msg){toast.textContent=msg;toast.style.opacity="1";setTimeout(()=>{toast.style.opacity="0";},1500);}

function updateClock() {
    // Fungsi ini tidak digunakan karena jam disembunyikan
}

function updateServerStatus() {
    const isOnline = Math.random() < 0.9; 
    const playerCountElement = document.querySelector('#player-count span');
    const statusElement = document.querySelector('#server-status .status-indicator');
    const statusTextElement = document.querySelector('#server-status span:last-child');

    if (isOnline) {
        const players = Math.floor(Math.random() * (500 - 150 + 1)) + 150; 
        playerCountElement.textContent = players.toLocaleString();
        playerCountElement.className = 'text-[#00ff90] text-sm font-bold status-indicator-big';
        
        statusElement.className = 'status-indicator rounded-full w-2 h-2 inline-block mr-1 status-online';
        statusTextElement.textContent = 'ONLINE';
        statusTextElement.className = 'text-[#00ff90] font-bold';
    } else {
        playerCountElement.textContent = '0';
        playerCountElement.className = 'text-[#ff00d4] text-sm font-bold status-indicator-big';
        
        statusElement.className = 'status-indicator rounded-full w-2 h-2 inline-block mr-1 status-offline';
        statusTextElement.textContent = 'OFFLINE';
        statusTextElement.className = 'text-[#ff00d4] font-bold';
    }
}

// ===== TAGLINE CYCLING (Diaktifkan setelah loading) =====
const taglines = [
    "Welcome to GTZS Private Server üéÆ",
    "Farming Rate up ‚ö° Item Exclusive",
    "Join our community chat now! üí¨",
    "Private & Clean - Mobile Optimized",
    "Play fair and have fun! ‚ú®"
];
let currentTaglineIndex = 0;

function taglineCycle() {
    if (!isServerLoaded) return; // Hanya berjalan setelah loading selesai
    serverTagline.classList.add('tagline-fade-out');
    setTimeout(() => {
        currentTaglineIndex = (currentTaglineIndex + 1) % taglines.length;
        serverTagline.innerHTML = taglines[currentTaglineIndex];
        serverTagline.classList.remove('tagline-fade-out');
    }, 500); 
}


// ===== SERVER LOADING LOGIC =====
function loadServer() {
    // Render 3 menu utama
    renderMenu(menuData.filter(item => item.isMain), menuGrid, false); 
    
    // Simulasikan loading
    setTimeout(() => {
        isServerLoaded = true;
        
        // Sembunyikan Loading dan Menu 3 Kolom
        loadingArea.style.display = 'none';
        menuGrid.style.display = 'none';
        
        // Tampilkan Full Status dan Menu Lengkap
        statusDisplayFull.style.display = 'block';
        statusBarBottom.style.display = 'flex';
        
        // Render menu lengkap di fullMenuContainer
        // Ubah grid 3 kolom menjadi grid 2 kolom (default mobile) atau lebih
        fullMenuContainer.style.gridTemplateColumns = 'repeat(auto-fit, minmax(180px, 1fr))';
        renderMenu(menuData.filter(item => !item.isMain), fullMenuContainer, true);

        // Update status sekali dan mulai interval
        updateServerStatus();
        setInterval(updateServerStatus, 10000); 

        // Inisialisasi tagline cycling
        serverTagline.classList.remove('tagline-fade-out');
        setInterval(taglineCycle, 5000); 

    }, loadingDuration); 
}


// ===== INITIALIZATION & MAIN FLOW =====
document.getElementById('current-year').textContent = new Date().getFullYear();
updateClock(); 

// Event Listeners for Overlays (About, Rules, FAQ) - Dibiarkan sama
document.getElementById('about-btn').onclick = () => document.getElementById('about-overlay').classList.remove('hidden-fade');
document.getElementById('about-close').onclick = () => document.getElementById('about-overlay').classList.add('hidden-fade');
document.getElementById('rules-close').onclick = () => document.getElementById('rules-overlay').classList.add('hidden-fade');
document.getElementById('faq-close').onclick = () => document.getElementById('faq-overlay').classList.add('hidden-fade');

// Jalankan fungsi loading server
loadServer();


// Menambahkan inisialisasi TSParticles jika diperlukan
// tsParticles.load({ ... });

</script>
</body>
</html>