<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GTZS Private Server - FINAL CUT (OPTIMIZED)</title>

<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@400;700&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/tsparticles@2.12.0/tsparticles.bundle.min.js"></script>

<style>
/* ===== CSS VARIABLES (THEME CONTROL) ===== */
:root {
    --primary-neon: #00e6ff; /* Cyan */
    --secondary-neon: #ff00d4; /* Fuchsia */
    --text-highlight: #9fdcff;
    --background-color: #0d0d1a;
}

body.theme-amber {
    --primary-neon: #ff8c00; /* Amber */
    --secondary-neon: #00ff90; /* Lime Green */
    --text-highlight: #aaff9f;
}

/* ===== CORE VISUALS & LAYOUT (NO CHANGE) ===== */
body { background-color: var(--background-color); }
#main-container {
    box-shadow: 0 0 15px var(--primary-neon), 0 0 30px var(--secondary-neon) !important;
    backdrop-filter: blur(8px) brightness(80%);
    background-color: rgba(0, 0, 0, 0.6);
    position: relative;
    z-index: 10;
}
#main-container::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 2rem;
    padding: 1px; 
    background: linear-gradient(45deg, var(--primary-neon), var(--secondary-neon));
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    z-index: -1;
    opacity: 0.7;
}
.blink { animation: blinker 1s step-start infinite; }
@keyframes blinker { 50% { opacity: 0; } }
#preloader { transition: opacity 0.7s ease-in-out, visibility 0.7s; }
.main-content-anim { opacity: 0; transform: translateY(20px); transition: opacity 1s ease-out, transform 1s ease-out; }
body.content-loaded .main-content-anim { opacity: 1; transform: translateY(0); }

/* STABILITY FIX: HEADER GLITCH TIMING */
@keyframes glitch {
    0% { text-shadow: 0.05em 0 0 var(--primary-neon), -0.05em -0.025em 0 var(--secondary-neon); }
    100% { text-shadow: none; }
}
#main-header h1 {
    animation: glitch 5s steps(1) infinite; /* Durasi diubah dari 10s ke 5s */
    text-shadow: 0 0 5px #fff, 0 0 10px var(--primary-neon), 0 0 20px var(--primary-neon), 0 0 40px var(--primary-neon);
}

.text-shimmer {
    background: linear-gradient(90deg, #fff 0%, var(--primary-neon) 50%, #fff 100%);
    background-size: 200% 100%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: shimmer 5s infinite;
}
@keyframes shimmer {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}
.menu-item { 
    transition: all 0.3s ease; 
    position: relative; 
    overflow: hidden; 
    z-index: 1; 
}
.menu-item::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: radial-gradient(circle, var(--primary-neon) 0%, transparent 70%);
    opacity: 0;
    border-radius: 50%;
    transform: translate(-50%, -50%);
    transition: width 0.4s ease, height 0.4s ease, opacity 0.4s ease;
    z-index: -1;
}
.menu-item:hover::after {
    width: 250%; 
    height: 250%; 
    opacity: 0.2; 
}
.menu-grid-stagger {
    opacity: 0;
    transform: scale(0.9);
    animation: fadeInScale 0.5s ease-out forwards;
}
@keyframes fadeInScale {
    to {
        opacity: 1;
        transform: scale(1);
    }
}
.grid-item-glow:hover {
    transform: translateY(-3px) scale(1.02);
    box-shadow: 0 0 15px var(--primary-neon), 0 0 30px var(--secondary-neon);
}
.hidden-fade {
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
}

/* ===== CUSTOM CURSOR (FIXED) ===== */
body {
    cursor: none; 
}
/* BUG FIX: Memastikan kursor muncul di elemen interaktif */
a, button, .menu-item {
    cursor: pointer !important; 
}

#custom-cursor {
    position: fixed;
    pointer-events: none; 
    z-index: 9999;
    width: 15px;
    height: 15px;
    border-radius: 50%;
    background: transparent;
    border: 2px solid var(--primary-neon);
    box-shadow: 0 0 5px var(--primary-neon), 0 0 10px var(--secondary-neon);
    transition: transform 0.15s ease-out, opacity 0.15s ease-out; 
    transform: translate(-50%, -50%);
}
body.is-interacting #custom-cursor {
    transform: scale(2.5) translate(-20%, -20%); 
    opacity: 0.5; 
    border-color: var(--secondary-neon);
    background: var(--secondary-neon);
}

/* ===== GLITCH HOVER ON HEADER BUTTONS (NO CHANGE) ===== */
#about-btn, #info-btn, #rules-btn, #music-toggle-btn, #theme-toggle-btn {
    position: relative; 
    overflow: hidden;
}
#about-btn:hover::before, #info-btn:hover::before, #rules-btn:hover::before {
    content: attr(id); 
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: transparent;
    color: var(--secondary-neon);
    overflow: hidden;
    animation: glitch-anim 0.5s infinite alternate;
    pointer-events: none;
    text-align: center;
    font-size: inherit;
    padding: inherit;
    line-height: inherit;
    display: flex;
    align-items: center;
    justify-content: center;
}
@keyframes glitch-anim {
    0% { clip: rect(2px, 9999px, 5px, 0); transform: skew(0.5deg); }
    30% { clip: rect(40px, 9999px, 42px, 0); transform: skew(1deg); }
    60% { clip: rect(75px, 9999px, 78px, 0); transform: skew(-0.3deg); }
    100% { clip: rect(135px, 9999px, 138px, 0); transform: skew(-0.6deg); }
}
</style>
</head>
<body class="bg-black">

<div id="custom-cursor"></div> 

<div id="preloader" class="fixed inset-0 z-[100] bg-black flex items-center justify-center transition-opacity duration-700">
    <div class="text-3xl text-[#00e6ff] font-extrabold" style="font-family: 'Orbitron', sans-serif; text-shadow: 0 0 10px #00e6ff, 0 0 20px rgba(0, 230, 255, 0.5);">
        SYSTEM INITIATING <span class="blink">|</span>
    </div>
</div>

<div id="tsparticles-gtzps" class="fixed inset-0 z-0"></div> 
<canvas id="matrix-rain" class="fixed inset-0 z-0 opacity-10 pointer-events-none"></canvas> 

<audio id="bg-music" loop muted>
<source src="https://files.catbox.moe/e3zea4.mp3" type="audio/mpeg">
</audio>
<audio id="audio-hover" src="https://assets.mixkit.co/sfx/preview/mixkit-sci-fi-click-900.mp3"></audio>
<audio id="audio-click" src="https://assets.mixkit.co/sfx/preview/mixkit-modern-technology-select-32.mp3"></audio>

<div id="fixed-controls" class="fixed top-4 left-4 z-50 flex gap-2">
    <button id="music-toggle-btn" class="flex items-center gap-2 px-3 py-1.5 bg-black/60 backdrop-blur-sm rounded-full border border-[var(--primary-neon)] shadow-lg shadow-[var(--primary-neon)]/30 hover:scale-105 transition-transform duration-300">
        <img id="music-btn-img" src="https://files.catbox.moe/o8bf91.jpg" class="w-7 h-7 rounded-full object-cover border border-white">
        <span id="music-status" class="text-xs font-semibold tracking-wider text-white">Play Music</span>
    </button>
    
    <button id="theme-toggle-btn" class="flex items-center justify-center w-10 h-10 bg-black/60 backdrop-blur-sm rounded-full border border-[var(--secondary-neon)] shadow-lg shadow-[var(--secondary-neon)]/30 hover:scale-105 transition-transform duration-300 text-[var(--secondary-neon)]"> 
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.257-1.257m4.572 4.572L17 12m-2-2h2.236m2.236 0L20 12m-2.236-4.472a4 4 0 00-7.728 0m0 0a4 4 0 00-7.728 0" />
        </svg>
    </button>
</div>

<div id="about-overlay" class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 hidden-fade"> 
    <div class="overlay-content-box relative max-w-sm w-[90%] p-5 bg-black/70 border border-[var(--primary-neon)] rounded-xl shadow-2xl text-xs">
        <button id="about-close" class="absolute top-2 right-2 text-[var(--secondary-neon)] font-bold text-lg">‚úñ</button>
        <div class="whitespace-pre-wrap">
            <div class="line line1 text-sm font-bold text-center text-[var(--text-highlight)]" style="font-family: 'Orbitron', sans-serif;">‚öúÔ∏è‚ú® CARA JOIN SERVER GTZS ‚ú®‚öúÔ∏è</div>
            <div class="mt-4 text-white space-y-2">
                <p>üåê 1Ô∏è‚É£ Buka menu Server</p>
                <p>üè∑Ô∏è 2Ô∏è‚É£ Masukkan nama server: <span class="text-[var(--primary-neon)] font-bold">GTZS</span></p>
                <p>üßæ 3Ô∏è‚É£ Tekan Register / Daftar</p>
                <p>üë§ 4Ô∏è‚É£ Buat GrowID & Password</p>
                <p>üìß 5Ô∏è‚É£ Masukkan Email aktif</p>
                <p class="mt-3 text-center text-lg text-yellow-300">üéÆ 6Ô∏è‚É£ Selamat! Server siap dimainkan üéâ</p>
            </div>
        </div>
    </div>
</div>
<div id="rules-overlay" class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 hidden-fade"> 
    <div class="overlay-content-box relative max-w-sm sm:max-w-md w-[90%] p-5 bg-black/70 border border-[var(--secondary-neon)] rounded-xl shadow-2xl text-xs overflow-y-auto max-h-[90vh]">
        <button id="rules-close" class="absolute top-2 right-2 text-[var(--primary-neon)] font-bold text-lg">‚úñ</button>
        <h3 class="line line2 text-lg text-center mb-3 text-[var(--text-highlight)]" style="font-family: 'Orbitron', sans-serif;">üîí SERVER RULES & POLICY</h3>
        <div class="whitespace-pre-wrap text-white text-sm" id="rules-content">
            <h4 class="text-[var(--primary-neon)] font-bold mt-2">1. NO SCAMMING</h4>
            <p>Dilarang keras melakukan penipuan (scamming) dalam bentuk apapun. Hukuman: Permanent Ban.</p>
            <h4 class="text-[var(--primary-neon)] font-bold mt-2">2. BE RESPECTFUL</h4>
            <p>Hormati sesama pemain dan Staff. Dilarang menggunakan kata-kata kasar/SARA. Hukuman: Temp Ban / Permanent Ban.</p>
            <h4 class="text-[var(--primary-neon)] font-bold mt-2">3. NO EXPLOITING</h4>
            <p>Dilarang menggunakan cheat, macro, atau memanfaatkan bug untuk keuntungan pribadi. Laporkan bug segera. Hukuman: Permanent Ban.</p>
            <h4 class="text-[var(--primary-neon)] font-bold mt-2">4. TRADE FAIRLY</h4>
            <p>Lakukan transaksi jual beli secara wajar dan pastikan sudah memiliki jaminan. Kehilangan item akibat trading adalah tanggung jawab pemain.</p>
        </div>
    </div>
</div>
<div id="faq-overlay" class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 hidden-fade"> 
    <div class="overlay-content-box relative max-w-sm sm:max-w-md w-[90%] p-5 bg-black/70 border border-[#00ff90] rounded-xl shadow-2xl text-xs overflow-y-auto max-h-[90vh]">
        <button id="faq-close" class="absolute top-2 right-2 text-[#ff8c00] font-bold text-lg">‚úñ</button>
        <h3 class="line line4 text-lg text-center mb-3 text-[var(--text-highlight)]" style="font-family: 'Orbitron', sans-serif;">‚ùì FAQ (TANYA JAWAB GTZS)</h3>
        <div class="whitespace-pre-wrap text-white text-sm" id="faq-content">
            <h4 class="text-[var(--secondary-neon)] font-bold mt-2">Q: Bagaimana cara mendapatkan DL?</h4>
            <p>A: Dapatkan Diamond Lock dengan melakukan Farming di WRLD / DAILYQUEST.</p>
            <h4 class="text-[var(--secondary-neon)] font-bold mt-2">Q: Apakah ada fitur Donasi?</h4>
            <p>A: Ya, cek tombol DONATE di menu utama untuk informasi lebih lanjut tentang keuntungan donasi.</p>
            <h4 class="text-[var(--secondary-neon)] font-bold mt-2">Q: Server maintenance jam berapa?</h4>
            <p>A: Maintenance rutin dilakukan setiap Hari Minggu pukul 03.00 WIB. Cek Discord untuk pengumuman mendadak.</p>
        </div>
    </div>
</div>
<div id="changelog-overlay" class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 hidden-fade"> 
    <div class="overlay-content-box relative max-w-sm sm:max-w-md w-[90%] p-5 bg-black/70 border border-[#ff8c00] rounded-xl shadow-2xl text-xs overflow-y-auto max-h-[90vh]">
        <button id="changelog-close" class="absolute top-2 right-2 text-[#ff8c00] font-bold text-lg">‚úñ</button>
        <h3 class="line line5 text-lg text-center mb-3 text-[var(--text-highlight)]" style="font-family: 'Orbitron', sans-serif;">‚öôÔ∏è SERVER CHANGELOG v4.3 - THE NEON PATCH</h3>
        <div class="whitespace-pre-wrap text-white text-sm" id="changelog-content">
            <h4 class="text-[var(--primary-neon)] font-bold mt-2">üìÖ 17 Nov 2025 - v4.3</h4>
            <ul class="list-disc list-inside ml-4 space-y-1">
                <li>[FIX] Memperbaiki bug pada Daily Quest tertentu.</li>
                <li>[NEW] Menambahkan 5 jenis item Super Rare baru.</li>
                <li>[IMPRV] Peningkatan performa server (Optimasi ping 15%).</li>
            </ul>
            <h4 class="text-[var(--primary-neon)] font-bold mt-2">üìÖ 01 Nov 2025 - v4.2</h4>
            <ul class="list-disc list-inside ml-4 space-y-1">
                <li>[NEW] Sistem Theme Toggle (Cyan/Amber) diimplementasikan.</li>
                <li>[FIX] Memperbaiki masalah crash di World PVE.</li>
            </ul>
        </div>
    </div>
</div>
<div id="server-info-overlay" class="fixed inset-0 z-50 flex items-center justify-center bg-black/80 hidden-fade"> 
    <div class="overlay-content-box relative max-w-sm sm:max-w-md w-[90%] p-5 bg-black/70 border border-[var(--primary-neon)] rounded-xl shadow-2xl text-xs overflow-y-auto max-h-[90vh]">
        <button id="server-info-close" class="absolute top-2 right-2 text-[var(--secondary-neon)] font-bold text-lg">‚úñ</button>
        
        <div class="max-w-xl mx-auto p-4 rounded-2xl bg-gradient-to-br from-gray-900 via-gray-800 to-gray-900 shadow-lg text-center text-white font-bold space-y-4" style="border: 4px solid var(--secondary-neon);">
            <h1 class="text-3xl md:text-4xl text-[var(--secondary-neon)] animate-pulse" style="font-family: 'Orbitron', sans-serif;">üåå‚ö° GTZS PRIVATE SERVER ‚ö°üåå</h1>
            <p class="text-lg md:text-xl text-pink-300">Rasakan <span class="text-[var(--primary-neon)]">Growtopia Futuristik</span> üéÆüí•!</p>
            <div class="bg-gray-800 rounded-xl p-4 border-2 border-[var(--primary-neon)] space-y-2">
                <p class="flex items-center justify-center gap-2 text-sm md:text-base">üíé Item langka</p>
                <p class="flex items-center justify-center gap-2 text-sm md:text-base">üöÄ Event epik</p>
                <p class="flex items-center justify-center gap-2 text-sm md:text-base">üè∞ Bangun dunia kreatifmu üåÜ</p>
            </div>
            <p class="text-yellow-400 text-lg md:text-xl animate-bounce">Bergabung sekarang & kuasai dunia GTZS! üå†</p>
        </div>
    </div>
</div>


<main id="main-content" class="main-content-anim relative z-20 flex items-center justify-center p-2" 
style="background-image:url('https://files.catbox.moe/2wqmke.jpeg'); background-size:cover; background-position:center;">
<div id="main-container" class="relative z-10 w-full rounded-2xl p-4 sm:p-6" style="min-height: 80vh;">
<header id="main-header" class="mb-4">
    <div class="flex items-start gap-4 pb-2 border-b-2 border-[var(--primary-neon)]/50"> 
        <img src="https://files.catbox.moe/o8bf91.jpg" class="w-12 h-12 rounded-lg border border-[var(--primary-neon)]/80 shadow-md shadow-[var(--primary-neon)]/50" loading="lazy">
        <div class="flex flex-col items-start w-full"> 
            <h1 class="text-2xl sm:text-3xl font-extrabold text-white" style="font-family: 'Orbitron', sans-serif;">GTZS PRIVATE SERVER</h1>
            <h2 id="welcome-message" class="text-xs sm:text-sm mt-1 text-[var(--text-highlight)]/80 font-medium tracking-wider" style="font-family: 'Rajdhani', sans-serif;">SYSTEM READY. ACCESS GRANTED.</h2>
        </div>
    </div>
    
    <div class="flex flex-col sm:flex-row sm:items-center justify-between w-full pt-3">
        <div id="server-status-container" class="flex items-center gap-4 font-semibold text-xs tracking-wider mb-3 sm:mb-0" style="font-family: 'Rajdhani', sans-serif;">
            <div id="player-count" class="text-white flex items-center gap-1">
                PLAYERS: 
                <span id="player-count-value" class="text-shimmer text-[var(--secondary-neon)] text-base font-bold tracking-widest">0</span>
            </div>
            <div id="server-status" class="text-white flex items-center gap-1">
                STATUS: 
                <span id="status-indicator-dot" class="status-indicator rounded-full w-3 h-3 inline-block bg-[var(--primary-neon)]"></span> 
                <span id="server-status-text" class="text-[var(--primary-neon)] font-bold tracking-widest">ONLINE</span>
            </div>
        </div>
        
        <nav class="text-sm flex items-center gap-2 text-white">
            <button id="about-btn" class="text-xs px-3 py-1 bg-black/30 backdrop-blur rounded-lg border border-[var(--primary-neon)]/50 hover:border-[var(--primary-neon)] hover:text-[var(--primary-neon)] transition-all duration-300">
                <span class="hidden sm:inline">How To </span>Join
            </button>
            <button id="info-btn" class="text-xs px-3 py-1 bg-black/30 backdrop-blur rounded-lg border border-[var(--primary-neon)]/50 hover:border-[var(--primary-neon)] hover:text-[var(--primary-neon)] transition-all duration-300">
                Info
            </button>
            <button id="rules-btn" class="text-xs px-3 py-1 bg-black/30 backdrop-blur rounded-lg border border-[var(--secondary-neon)]/50 hover:border-[var(--secondary-neon)] hover:text-[var(--secondary-neon)] transition-all duration-300">
                Rules
            </button>
        </nav>
    </div>
</header>

<section id="menu-grid" class="p-4 grid grid-cols-2 sm:grid-cols-3 gap-4">
    <a href="#" class="menu-item grid-item-glow p-4 flex flex-col items-center justify-center bg-black/40 rounded-xl hover:bg-black/60">
        <span class="text-3xl text-[var(--primary-neon)] mb-1">üéÆ</span>
        <span class="text-sm font-bold text-white tracking-wider" style="font-family: 'Orbitron', sans-serif;">PLAY NOW</span>
        <span class="text-[10px] text-green-400 mt-1 item-status-online">READY</span>
    </a>
    <a href="LINK_DISCORD_ANDA" target="_blank" class="menu-item grid-item-glow p-4 flex flex-col items-center justify-center bg-black/40 rounded-xl hover:bg-black/60">
        <span class="text-3xl text-[var(--secondary-neon)] mb-1">üí¨</span>
        <span class="text-sm font-bold text-white tracking-wider" style="font-family: 'Orbitron', sans-serif;">DISCORD</span>
        <span class="text-[10px] text-green-400 mt-1 item-status-online">ONLINE</span>
    </a>
    <a href="LINK_DONASI_ANDA" target="_blank" class="menu-item grid-item-glow p-4 flex flex-col items-center justify-center bg-black/40 rounded-xl hover:bg-black/60">
        <span class="text-3xl text-yellow-500 mb-1">üí∞</span>
        <span class="text-sm font-bold text-white tracking-wider" style="font-family: 'Orbitron', sans-serif;">DONATE</span>
        <span class="text-[10px] text-green-400 mt-1 item-status-online">SUPPORT</span>
    </a>
    <a id="faq-btn" href="#" class="menu-item grid-item-glow p-4 flex flex-col items-center justify-center bg-black/40 rounded-xl hover:bg-black/60">
        <span class="text-3xl text-cyan-400 mb-1">‚ùì</span>
        <span class="text-sm font-bold text-white tracking-wider" style="font-family: 'Orbitron', sans-serif;">FAQ</span>
        <span class="text-[10px] text-green-400 mt-1 item-status-online">AVAILABLE</span>
    </a>
    <a id="changelog-btn" href="#" class="menu-item grid-item-glow p-4 flex flex-col items-center justify-center bg-black/40 rounded-xl hover:bg-black/60">
        <span class="text-3xl text-orange-400 mb-1">üìú</span>
        <span class="text-sm font-bold text-white tracking-wider" style="font-family: 'Orbitron', sans-serif;">LOG</span>
        <span class="text-[10px] text-green-400 mt-1 item-status-online">V4.3</span>
    </a>
    <a href="LINK_DEVTEAM_ANDA" target="_blank" class="menu-item grid-item-glow p-4 flex flex-col items-center justify-center bg-black/40 rounded-xl hover:bg-black/60">
        <span class="text-3xl text-red-500 mb-1">‚öôÔ∏è</span>
        <span class="text-sm font-bold text-white tracking-wider" style="font-family: 'Orbitron', sans-serif;">DEV TEAM</span>
        <span class="text-[10px] text-green-400 mt-1 item-status-online">ACTIVE</span>
    </a>
</section>

<footer class="mt-4 text-xs text-[#8fe6ff] opacity-90 flex flex-col sm:flex-row items-center justify-between p-3 border-t-2 border-[var(--secondary-neon)]/50">
    <div class="text-[var(--text-highlight)] font-medium tracking-wider order-2 sm:order-1 mt-2 sm:mt-0">¬© <span id="current-year">2025</span> GTZS - PS | LICENSI GTZS STAFF</div>
    <div class="flex gap-4 mt-2 sm:mt-0 order-1 sm:order-2">
        <div id="ping-status" class="text-[10px] text-red-500 font-bold tracking-widest" style="font-family: 'Rajdhani', sans-serif;">
            PING: <span id="ping-value" class="text-[var(--secondary-neon)]">--MS</span> 
        </div>
        <div id="last-updated-stamp" class="text-[10px] text-[#ff8c00] opacity-80" style="font-family: 'Rajdhani', sans-serif;">LAST UPDATE: 17 NOVEMBER 2025</div>
    </div>
</footer>
</div>
<div id="live-clock" class="fixed bottom-4 left-4 z-40 text-lg font-bold text-[var(--primary-neon)]" style="font-family: 'Orbitron', sans-serif; text-shadow: 0 0 5px var(--primary-neon);">09:37:08</div>
</main>

<button id="back-to-top" class="fixed bottom-6 right-6 z-40 p-3 bg-black/70 border border-[var(--secondary-neon)] text-[var(--secondary-neon)] rounded-full shadow-lg transition-opacity duration-300 opacity-0 cursor-pointer hover:scale-110"
    style="font-family: 'Orbitron', sans-serif; box-shadow: 0 0 10px var(--secondary-neon), 0 0 20px rgba(255, 0, 212, 0.5);">
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">
        <path stroke-linecap="round" stroke-linejoin="round" d="M5 10l7-7m0 0l7 7m-7-7v18" />
    </svg>
</button>

<script>
// =======================================================
// KODE JAVASCRIPT LENGKAP & OPTIMASI BUG FIX
// =======================================================

// --- 1. UTILITY FUNCTIONS ---

function toggleOverlay(overlayId, action) {
    const overlay = document.getElementById(overlayId);
    if (!overlay) return;
    const contentBox = overlay.querySelector('.overlay-content-box');

    if (action === 'open') {
        contentBox.classList.add('glitch-active');
        overlay.classList.remove('hidden-fade');
        setTimeout(() => {
            contentBox.classList.remove('glitch-active');
        }, 200);
    } else if (action === 'close') {
        contentBox.classList.add('glitch-active');
        setTimeout(() => {
            contentBox.classList.remove('glitch-active');
            overlay.classList.add('hidden-fade'); 
        }, 200); 
    }
}

function initServerStatus() {
    const playerCountEl = document.getElementById('player-count-value');
    const statusDotEl = document.getElementById('status-indicator-dot');
    const statusTextEl = document.getElementById('server-status-text');
    if (!playerCountEl) return; // Pemeriksaan stabilitas

    playerCountEl.classList.remove('text-shimmer'); 
    const players = Math.floor(Math.random() * (150 - 80 + 1)) + 80;
    const isOnline = true;
    playerCountEl.textContent = players.toLocaleString('id-ID');
    
    if (isOnline) {
        statusTextEl.textContent = "ONLINE";
        statusDotEl.style.backgroundColor = 'var(--primary-neon)';
        statusDotEl.style.boxShadow = '0 0 5px var(--primary-neon), 0 0 10px var(--primary-neon)';
    } else {
        statusTextEl.textContent = "MAINTENANCE";
        statusTextEl.style.color = '#ff8c00';
        statusDotEl.style.backgroundColor = '#ff8c00';
        statusDotEl.style.boxShadow = '0 0 5px #ff8c00, 0 0 10px #ff8c00';
    }
}

// Ping Indicator (FIXED: Stabil)
function initPingIndicator() {
    const pingValueEl = document.getElementById('ping-value');
    if (!pingValueEl) return;

    setInterval(() => {
        const newPing = Math.floor(Math.random() * (150 - 30 + 1)) + 30;
        pingValueEl.textContent = `${newPing}MS`;

        const rootStyles = getComputedStyle(document.documentElement);
        if (newPing < 60) {
            pingValueEl.style.color = rootStyles.getPropertyValue('--primary-neon'); 
        } else if (newPing < 120) {
            pingValueEl.style.color = '#ff8c00'; 
        } else {
            pingValueEl.style.color = '#ff4444'; 
        }
    }, 3000); 
}


// --- 2. THEME & AUDIO ---
function initThemeToggle() {
    const themeToggleBtn = document.getElementById('theme-toggle-btn');
    if (!themeToggleBtn) return;
    themeToggleBtn.addEventListener('click', () => {
        document.body.classList.toggle('theme-amber');
        localStorage.setItem('theme', document.body.classList.contains('theme-amber') ? 'amber' : 'default');
        document.getElementById('audio-click').play();
    });
    if (localStorage.getItem('theme') === 'amber') { document.body.classList.add('theme-amber'); }
}
function initMusicToggle() {
    const musicBtn = document.getElementById('music-toggle-btn');
    const music = document.getElementById('bg-music');
    const statusSpan = document.getElementById('music-status');
    const img = document.getElementById('music-btn-img');
    if (!musicBtn) return;
    musicBtn.addEventListener('click', () => {
        if (music.muted) {
            music.muted = false;
            music.play();
            statusSpan.textContent = "Music Playing";
            img.style.filter = 'brightness(100%)';
        } else {
            music.muted = true;
            statusSpan.textContent = "Play Music";
            img.style.filter = 'brightness(50%)';
        }
        document.getElementById('audio-click').play();
    });
    music.muted = true; 
}
function initHoverSounds() {
    const hoverSound = document.getElementById('audio-hover');
    if (!hoverSound) return;
    document.querySelectorAll('.menu-item, button').forEach(el => {
        el.addEventListener('mouseenter', () => hoverSound.play());
    });
}

// --- 3. ANIMASI DAN TAMPILAN ---
function initPreloader() {
    const preloader = document.getElementById('preloader');
    const body = document.body;
    if (!preloader) return;
    setTimeout(() => {
        preloader.style.opacity = '0';
        preloader.style.visibility = 'hidden';
        body.classList.add('content-loaded'); 
        initMenuStagger(); 
    }, 1500); 
}
function initClock() {
    const clock = document.getElementById('live-clock');
    if (!clock) return;
    const updateTime = () => {
        const now = new Date();
        const timeString = now.toLocaleTimeString('en-US', { hour12: false });
        clock.textContent = timeString;
    };
    updateTime();
    setInterval(updateTime, 1000);
}
function initMenuStagger() {
    const gridItems = document.querySelectorAll('#menu-grid .menu-item');
    if (gridItems.length === 0) return;
    gridItems.forEach((item, index) => {
        item.style.animationDelay = `${index * 50}ms`; 
        item.classList.add('menu-grid-stagger');
    });
}
function initParticles() {
    if (!document.getElementById('tsparticles-gtzps')) return;
    // Konfigurasi tsParticles (konten aman)
    tsParticles.load('tsparticles-gtzps', {
        particles: {
            number: { value: 80, density: { enable: true, value_area: 800 } },
            color: { value: ["#00e6ff", "#ff00d4", "#ff8c00"] },
            shape: { type: "star" },
            opacity: { value: 0.8, random: true, anim: { enable: true, speed: 1, opacity_min: 0.1, sync: false } },
            size: { value: 2, random: true, anim: { enable: true, speed: 4, size_min: 0.3, sync: false } },
            line_linked: { enable: false },
            move: { enable: true, speed: 1, direction: "none", random: false, straight: false, out_mode: "out", bounce: false, attract: { enable: false, rotateX: 600, rotateY: 1200 } }
        },
        interactivity: {
            detect_on: "canvas",
            events: { onhover: { enable: true, mode: "repulse" }, onclick: { enable: true, mode: "push" }, resize: true },
            modes: { repulse: { distance: 100, duration: 0.4 }, push: { particles_nb: 4 } }
        },
        retina_detect: true
    });
}

// Matrix Rain (FIXED: Menggunakan requestAnimationFrame dan Debounce)
function initMatrixRain() {
    const canvas = document.getElementById('matrix-rain');
    if (!canvas) return;
    const ctx = canvas.getContext('2d');
    
    let animationFrameId;
    
    const setCanvasSize = () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        initDrops();
    };

    const font_size = 10;
    let columns;
    let drops = [];

    const initDrops = () => {
        columns = Math.floor(canvas.width / font_size);
        drops = [];
        for (let x = 0; x < columns; x++) {
            drops[x] = 1;
        }
    };
    
    setCanvasSize(); // Panggil pertama kali

    const draw = () => {
        ctx.fillStyle = "rgba(13, 13, 26, 0.05)";
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = "#00ff90"; 
        ctx.font = font_size + "px Rajdhani";

        for (let i = 0; i < drops.length; i++) {
            const text = String.fromCharCode(0x30A0 + Math.random() * 96); 
            ctx.fillText(text, i * font_size, drops[i] * font_size);
            if (drops[i] * font_size * 0.9 > canvas.height && Math.random() > 0.975) { // Ditingkatkan
                drops[i] = 0;
            }
            drops[i]++;
        }
        animationFrameId = requestAnimationFrame(draw);
    };
    
    // Debounce function untuk resize (Optimasi Performa)
    let resizeTimeout;
    window.addEventListener('resize', () => {
        clearTimeout(resizeTimeout);
        resizeTimeout = setTimeout(setCanvasSize, 100);
    });

    draw(); // Memulai loop animasi
}

// Custom Cursor (FIXED: Stabil)
function initCustomCursor() {
    const cursor = document.getElementById('custom-cursor');
    if (!cursor) return;
    const body = document.body;
    document.addEventListener('mousemove', (e) => {
        cursor.style.left = e.clientX + 'px';
        cursor.style.top = e.clientY + 'px';
    });
    const interactiveElements = document.querySelectorAll('a, button, .menu-item');
    interactiveElements.forEach(el => {
        el.addEventListener('mouseenter', () => { body.classList.add('is-interacting'); });
        el.addEventListener('mouseleave', () => { body.classList.remove('is-interacting'); });
    });
}

// --- 4. MAIN INIT ---
document.addEventListener('DOMContentLoaded', () => {
    // PANGGIL SEMUA FUNGSI INISIALISASI
    initPreloader();
    initClock();
    initParticles();
    initServerStatus();
    initThemeToggle();
    initMusicToggle();
    initHoverSounds(); 
    initMatrixRain();
    initCustomCursor();
    initPingIndicator();

    document.getElementById('current-year').textContent = new Date().getFullYear();

    // KONEKSI TOMBOL OVERLAY (Tombol Click)
    document.getElementById('about-btn').addEventListener('click', () => toggleOverlay('about-overlay', 'open'));
    document.getElementById('about-close').addEventListener('click', () => toggleOverlay('about-overlay', 'close'));
    document.getElementById('info-btn').addEventListener('click', () => toggleOverlay('server-info-overlay', 'open'));
    document.getElementById('server-info-close').addEventListener('click', () => toggleOverlay('server-info-overlay', 'close'));
    document.getElementById('rules-btn').addEventListener('click', () => toggleOverlay('rules-overlay', 'open'));
    document.getElementById('rules-close').addEventListener('click', () => toggleOverlay('rules-overlay', 'close'));
    document.querySelectorAll('#faq-btn').forEach(btn => btn.addEventListener('click', () => toggleOverlay('faq-overlay', 'open')));
    document.getElementById('faq-close').addEventListener('click', () => toggleOverlay('faq-overlay', 'close'));
    document.querySelectorAll('#changelog-btn').forEach(btn => btn.addEventListener('click', () => toggleOverlay('changelog-overlay', 'open')));
    document.getElementById('changelog-close').addEventListener('click', () => toggleOverlay('changelog-overlay', 'close'));
});
</script>
</body>
</html>